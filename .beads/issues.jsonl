{"id":"clarity-1c4","title":"Replace Java regex parser with tree-sitter","description":"Current Java parsing uses regex and can misclassify imports/types. Implement tree-sitter-based parsing for package/import/type discovery, mirroring Kotlin/Go/TS approach, and update tests accordingly.","status":"closed","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-05T22:44:44.997416+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-06T05:54:29.59719+05:30","closed_at":"2026-02-06T05:54:29.59719+05:30","close_reason":"Closed"}
{"id":"clarity-1dv","title":"Resolve CLI flag conflict: --verbose vs --version","description":"Resolve CLI flag conflict where -v/--verbose and --version are ambiguous. Update CLI flag definitions and help text so both flags work as intended (e.g., rename/repurpose one flag or adjust parsing).","status":"closed","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-05T23:38:02.855904+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-06T09:31:44.410779+05:30","closed_at":"2026-02-06T09:31:44.410779+05:30","close_reason":"Closed"}
{"id":"clarity-2cn","title":"Refactor graph command RunE function (299 lines)","description":"graph_cmd.go RunE function (lines 44-343) handles validation, file resolution, graph building, filtering, and formatting. Split into focused functions.","status":"closed","priority":1,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-03T22:04:05.92037+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-05T15:16:39.265088+05:30","closed_at":"2026-02-05T15:16:39.265088+05:30","close_reason":"Closed"}
{"id":"clarity-3g2","title":"Refactor BuildDependencyGraph function (312 lines)","description":"dependency_graph_builder.go:22-334 has a 312-line function with multiple responsibilities: building indices, parsing files, filtering imports across 4+ languages. Split into smaller focused functions.","status":"closed","priority":1,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-03T22:04:04.674136+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-05T15:00:08.477956+05:30","closed_at":"2026-02-05T15:00:08.477956+05:30","close_reason":"Closed"}
{"id":"clarity-3wn","title":"Fix missing testhelpers.goldieWithSuffix","status":"tombstone","priority":1,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-05T11:16:08.565828+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-05T11:22:36.510028+05:30","close_reason":"Closed","deleted_at":"2026-02-05T11:22:36.510028+05:30","deleted_by":"Ragunath Jawahar","delete_reason":"delete","original_type":"task"}
{"id":"clarity-4or","title":"Implement clarity diff subcommand v1","description":"Deliver working-tree and commit-based dependency graph diffing with delta and summary outputs.\n\nReference: [diff-subcommand-notes.md](docs/development/diff-subcommand-notes.md)","status":"open","priority":2,"issue_type":"epic","owner":"ragunath@legacycode.com","created_at":"2026-02-11T16:35:26.590999+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-11T16:59:43.524597+05:30"}
{"id":"clarity-4or.1","title":"CLI surface and mode validation","description":"Add clarity diff command, flags, mode selection, and validation.\n\nReference: [diff-subcommand-notes.md](docs/development/diff-subcommand-notes.md)","status":"closed","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-11T16:35:26.753555+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-11T17:07:00.236841+05:30","closed_at":"2026-02-11T17:07:00.236841+05:30","close_reason":"Closed","dependencies":[{"issue_id":"clarity-4or.1","depends_on_id":"clarity-4or","type":"parent-child","created_at":"2026-02-11T16:35:26.754679+05:30","created_by":"Ragunath Jawahar"}]}
{"id":"clarity-4or.1.1","title":"Add clarity diff command scaffolding and flags","description":"Implement clarity diff, --summary, and --commit flags in the CLI.\n\nReference: [diff-subcommand-notes.md](docs/development/diff-subcommand-notes.md)","status":"closed","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-11T16:35:26.935342+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-11T17:06:25.32699+05:30","closed_at":"2026-02-11T17:06:25.32699+05:30","close_reason":"Closed","dependencies":[{"issue_id":"clarity-4or.1.1","depends_on_id":"clarity-4or.1","type":"parent-child","created_at":"2026-02-11T16:35:26.936519+05:30","created_by":"Ragunath Jawahar"}]}
{"id":"clarity-4or.1.2","title":"Implement strict --commit value parsing and ref validation","description":"Support \u003ccommit\u003e and \u003cA\u003e,\u003cB\u003e forms; reject malformed or invalid refs before graph work.\n\nReference: [diff-subcommand-notes.md](docs/development/diff-subcommand-notes.md)","status":"closed","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-11T16:35:27.106401+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-11T17:06:39.587144+05:30","closed_at":"2026-02-11T17:06:39.587144+05:30","close_reason":"Closed","dependencies":[{"issue_id":"clarity-4or.1.2","depends_on_id":"clarity-4or.1","type":"parent-child","created_at":"2026-02-11T16:35:27.107479+05:30","created_by":"Ragunath Jawahar"},{"issue_id":"clarity-4or.1.2","depends_on_id":"clarity-4or.1.1","type":"blocks","created_at":"2026-02-11T16:36:51.972075+05:30","created_by":"Ragunath Jawahar"}]}
{"id":"clarity-4or.1.3","title":"Enforce mode precedence and conflict rules","description":"When --commit is set, bypass working-tree mode and enforce mutual exclusivity with snapshot selectors.\n\nReference: [diff-subcommand-notes.md](docs/development/diff-subcommand-notes.md)","status":"closed","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-11T16:35:27.247228+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-11T17:06:49.905586+05:30","closed_at":"2026-02-11T17:06:49.905586+05:30","close_reason":"Closed","dependencies":[{"issue_id":"clarity-4or.1.3","depends_on_id":"clarity-4or.1","type":"parent-child","created_at":"2026-02-11T16:35:27.248279+05:30","created_by":"Ragunath Jawahar"},{"issue_id":"clarity-4or.1.3","depends_on_id":"clarity-4or.1.2","type":"blocks","created_at":"2026-02-11T16:36:52.0817+05:30","created_by":"Ragunath Jawahar"}]}
{"id":"clarity-4or.2","title":"Snapshot model and loaders","description":"Build base/target snapshots without checkout for both working-tree and commit modes.\n\nReference: [diff-subcommand-notes.md](docs/development/diff-subcommand-notes.md)","status":"open","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-11T16:35:27.387314+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-11T16:58:00.280703+05:30","dependencies":[{"issue_id":"clarity-4or.2","depends_on_id":"clarity-4or","type":"parent-child","created_at":"2026-02-11T16:35:27.388435+05:30","created_by":"Ragunath Jawahar"},{"issue_id":"clarity-4or.2","depends_on_id":"clarity-4or.1","type":"blocks","created_at":"2026-02-11T16:36:51.191755+05:30","created_by":"Ragunath Jawahar"}]}
{"id":"clarity-4or.2.1","title":"Implement HEAD snapshot reader from git objects","description":"Read base content at HEAD directly from git objects.\n\nReference: [diff-subcommand-notes.md](docs/development/diff-subcommand-notes.md)","status":"open","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-11T16:35:27.530413+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-11T16:57:39.622319+05:30","dependencies":[{"issue_id":"clarity-4or.2.1","depends_on_id":"clarity-4or.2","type":"parent-child","created_at":"2026-02-11T16:35:27.531439+05:30","created_by":"Ragunath Jawahar"}]}
{"id":"clarity-4or.2.2","title":"Implement working snapshot loader","description":"Compose current snapshot from tracked staged/unstaged plus parseable untracked files, excluding ignored files.\n\nReference: [diff-subcommand-notes.md](docs/development/diff-subcommand-notes.md)","status":"open","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-11T16:35:27.685036+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-11T16:57:18.951719+05:30","dependencies":[{"issue_id":"clarity-4or.2.2","depends_on_id":"clarity-4or.2","type":"parent-child","created_at":"2026-02-11T16:35:27.686599+05:30","created_by":"Ragunath Jawahar"},{"issue_id":"clarity-4or.2.2","depends_on_id":"clarity-4or.2.1","type":"blocks","created_at":"2026-02-11T16:36:52.189064+05:30","created_by":"Ragunath Jawahar"}]}
{"id":"clarity-4or.2.3","title":"Implement commit-mode snapshot resolver","description":"Resolve single commit as \u003ccommit\u003e^1 -\u003e \u003ccommit\u003e, two-commit as \u003cA\u003e -\u003e \u003cB\u003e, with root-commit empty-base handling.\n\nReference: [diff-subcommand-notes.md](docs/development/diff-subcommand-notes.md)","status":"open","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-11T16:35:27.827909+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-11T16:56:49.363252+05:30","dependencies":[{"issue_id":"clarity-4or.2.3","depends_on_id":"clarity-4or.2","type":"parent-child","created_at":"2026-02-11T16:35:27.829088+05:30","created_by":"Ragunath Jawahar"},{"issue_id":"clarity-4or.2.3","depends_on_id":"clarity-4or.2.2","type":"blocks","created_at":"2026-02-11T16:36:52.300958+05:30","created_by":"Ragunath Jawahar"}]}
{"id":"clarity-4or.3","title":"Graph build integration and failure semantics","description":"Reuse existing graph builder and preserve clarity show failure behavior.\n\nReference: [diff-subcommand-notes.md](docs/development/diff-subcommand-notes.md)","status":"open","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-11T16:35:27.969918+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-11T16:56:28.690893+05:30","dependencies":[{"issue_id":"clarity-4or.3","depends_on_id":"clarity-4or","type":"parent-child","created_at":"2026-02-11T16:35:27.970862+05:30","created_by":"Ragunath Jawahar"},{"issue_id":"clarity-4or.3","depends_on_id":"clarity-4or.2","type":"blocks","created_at":"2026-02-11T16:36:51.305788+05:30","created_by":"Ragunath Jawahar"}]}
{"id":"clarity-4or.3.1","title":"Wire snapshot readers into graph construction pipeline","description":"Build base and target graphs from snapshot content sources.\n\nReference: [diff-subcommand-notes.md](docs/development/diff-subcommand-notes.md)","status":"open","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-11T16:35:28.122093+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-11T16:56:08.029085+05:30","dependencies":[{"issue_id":"clarity-4or.3.1","depends_on_id":"clarity-4or.3","type":"parent-child","created_at":"2026-02-11T16:35:28.123143+05:30","created_by":"Ragunath Jawahar"}]}
{"id":"clarity-4or.3.2","title":"Preserve parser/dependency/formatter hard-error behavior","description":"Return non-zero for parser/dependency resolution and formatter failures.\n\nReference: [diff-subcommand-notes.md](docs/development/diff-subcommand-notes.md)","status":"open","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-11T16:35:28.266742+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-11T16:55:47.444042+05:30","dependencies":[{"issue_id":"clarity-4or.3.2","depends_on_id":"clarity-4or.3","type":"parent-child","created_at":"2026-02-11T16:35:28.267763+05:30","created_by":"Ragunath Jawahar"},{"issue_id":"clarity-4or.3.2","depends_on_id":"clarity-4or.3.1","type":"blocks","created_at":"2026-02-11T16:36:52.412826+05:30","created_by":"Ragunath Jawahar"}]}
{"id":"clarity-4or.3.3","title":"Represent unsupported file extensions as file-only nodes","description":"Keep unsupported source files as nodes with no dependencies.\n\nReference: [diff-subcommand-notes.md](docs/development/diff-subcommand-notes.md)","status":"open","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-11T16:35:28.407857+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-11T16:55:26.705114+05:30","dependencies":[{"issue_id":"clarity-4or.3.3","depends_on_id":"clarity-4or.3","type":"parent-child","created_at":"2026-02-11T16:35:28.409118+05:30","created_by":"Ragunath Jawahar"},{"issue_id":"clarity-4or.3.3","depends_on_id":"clarity-4or.3.2","type":"blocks","created_at":"2026-02-11T16:36:52.523028+05:30","created_by":"Ragunath Jawahar"}]}
{"id":"clarity-4or.4","title":"Graph delta engine","description":"Compute deterministic delta between base and target dependency graphs.\n\nReference: [diff-subcommand-notes.md](docs/development/diff-subcommand-notes.md)","status":"open","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-11T16:35:28.548964+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-11T16:55:06.058632+05:30","dependencies":[{"issue_id":"clarity-4or.4","depends_on_id":"clarity-4or","type":"parent-child","created_at":"2026-02-11T16:35:28.55011+05:30","created_by":"Ragunath Jawahar"},{"issue_id":"clarity-4or.4","depends_on_id":"clarity-4or.3","type":"blocks","created_at":"2026-02-11T16:36:51.420906+05:30","created_by":"Ragunath Jawahar"}]}
{"id":"clarity-4or.4.1","title":"Compute nodes added and removed","description":"Detect file-level node additions/removals across snapshots.\n\nReference: [diff-subcommand-notes.md](docs/development/diff-subcommand-notes.md)","status":"open","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-11T16:35:28.695212+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-11T16:54:45.415848+05:30","dependencies":[{"issue_id":"clarity-4or.4.1","depends_on_id":"clarity-4or.4","type":"parent-child","created_at":"2026-02-11T16:35:28.696374+05:30","created_by":"Ragunath Jawahar"}]}
{"id":"clarity-4or.4.2","title":"Compute edges added and removed","description":"Detect dependency edge additions/removals across snapshots.\n\nReference: [diff-subcommand-notes.md](docs/development/diff-subcommand-notes.md)","status":"open","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-11T16:35:28.842067+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-11T16:54:24.621942+05:30","dependencies":[{"issue_id":"clarity-4or.4.2","depends_on_id":"clarity-4or.4","type":"parent-child","created_at":"2026-02-11T16:35:28.843125+05:30","created_by":"Ragunath Jawahar"},{"issue_id":"clarity-4or.4.2","depends_on_id":"clarity-4or.4.1","type":"blocks","created_at":"2026-02-11T16:36:52.629872+05:30","created_by":"Ragunath Jawahar"}]}
{"id":"clarity-4or.4.3","title":"Implement file lifecycle semantics v1","description":"Handle deletions, new files, and rename-as-remove-plus-add semantics.\n\nReference: [diff-subcommand-notes.md](docs/development/diff-subcommand-notes.md)","status":"open","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-11T16:35:28.983789+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-11T16:54:03.943991+05:30","dependencies":[{"issue_id":"clarity-4or.4.3","depends_on_id":"clarity-4or.4","type":"parent-child","created_at":"2026-02-11T16:35:28.984811+05:30","created_by":"Ragunath Jawahar"},{"issue_id":"clarity-4or.4.3","depends_on_id":"clarity-4or.4.2","type":"blocks","created_at":"2026-02-11T16:36:52.738411+05:30","created_by":"Ragunath Jawahar"}]}
{"id":"clarity-4or.4.4","title":"Add semantic-finding extension hooks","description":"Provide optional pipeline points for new-cycle and layer-violation findings.\n\nReference: [diff-subcommand-notes.md](docs/development/diff-subcommand-notes.md)","status":"open","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-11T16:35:29.124098+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-11T16:53:43.202095+05:30","dependencies":[{"issue_id":"clarity-4or.4.4","depends_on_id":"clarity-4or.4","type":"parent-child","created_at":"2026-02-11T16:35:29.124984+05:30","created_by":"Ragunath Jawahar"},{"issue_id":"clarity-4or.4.4","depends_on_id":"clarity-4or.4.3","type":"blocks","created_at":"2026-02-11T16:36:52.848192+05:30","created_by":"Ragunath Jawahar"}]}
{"id":"clarity-4or.5","title":"Output rendering and summary mode","description":"Emit delta graph output by default and summary-only text mode when requested.\n\nReference: [diff-subcommand-notes.md](docs/development/diff-subcommand-notes.md)","status":"open","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-11T16:35:29.264439+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-11T16:53:22.37693+05:30","dependencies":[{"issue_id":"clarity-4or.5","depends_on_id":"clarity-4or","type":"parent-child","created_at":"2026-02-11T16:35:29.265413+05:30","created_by":"Ragunath Jawahar"},{"issue_id":"clarity-4or.5","depends_on_id":"clarity-4or.4","type":"blocks","created_at":"2026-02-11T16:36:51.531985+05:30","created_by":"Ragunath Jawahar"}]}
{"id":"clarity-4or.5.1","title":"Implement default formatter-native delta output","description":"Emit DOT delta output by default; keep renderer abstraction for Mermaid support.\n\nReference: [diff-subcommand-notes.md](docs/development/diff-subcommand-notes.md)","status":"open","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-11T16:35:29.410171+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-11T16:53:01.451965+05:30","dependencies":[{"issue_id":"clarity-4or.5.1","depends_on_id":"clarity-4or.5","type":"parent-child","created_at":"2026-02-11T16:35:29.411233+05:30","created_by":"Ragunath Jawahar"}]}
{"id":"clarity-4or.5.2","title":"Implement --summary text-only report","description":"Emit counts and key findings only; ignore graph renderer output when summary is requested.\n\nReference: [diff-subcommand-notes.md](docs/development/diff-subcommand-notes.md)","status":"open","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-11T16:35:29.555183+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-11T16:52:40.735759+05:30","dependencies":[{"issue_id":"clarity-4or.5.2","depends_on_id":"clarity-4or.5","type":"parent-child","created_at":"2026-02-11T16:35:29.556337+05:30","created_by":"Ragunath Jawahar"},{"issue_id":"clarity-4or.5.2","depends_on_id":"clarity-4or.5.1","type":"blocks","created_at":"2026-02-11T16:36:52.959085+05:30","created_by":"Ragunath Jawahar"}]}
{"id":"clarity-4or.5.3","title":"Enforce deterministic summary ordering","description":"Print categories in fixed order and sort entries lexicographically by stable canonical key.\n\nReference: [diff-subcommand-notes.md](docs/development/diff-subcommand-notes.md)","status":"open","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-11T16:35:29.698255+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-11T16:52:20.078976+05:30","dependencies":[{"issue_id":"clarity-4or.5.3","depends_on_id":"clarity-4or.5","type":"parent-child","created_at":"2026-02-11T16:35:29.700042+05:30","created_by":"Ragunath Jawahar"},{"issue_id":"clarity-4or.5.3","depends_on_id":"clarity-4or.5.2","type":"blocks","created_at":"2026-02-11T16:36:53.070687+05:30","created_by":"Ragunath Jawahar"}]}
{"id":"clarity-4or.5.4","title":"Ensure fixed category emission including zero counts","description":"Always emit count lines in the documented category order, even when zero.\n\nReference: [diff-subcommand-notes.md](docs/development/diff-subcommand-notes.md)","status":"open","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-11T16:35:29.837678+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-11T16:51:59.430788+05:30","dependencies":[{"issue_id":"clarity-4or.5.4","depends_on_id":"clarity-4or.5","type":"parent-child","created_at":"2026-02-11T16:35:29.838687+05:30","created_by":"Ragunath Jawahar"},{"issue_id":"clarity-4or.5.4","depends_on_id":"clarity-4or.5.3","type":"blocks","created_at":"2026-02-11T16:36:53.182817+05:30","created_by":"Ragunath Jawahar"}]}
{"id":"clarity-4or.6","title":"Exit codes and user-facing errors","description":"Define success and failure exit behavior and actionable validation errors.\n\nReference: [diff-subcommand-notes.md](docs/development/diff-subcommand-notes.md)","status":"open","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-11T16:35:29.978856+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-11T16:51:38.782701+05:30","dependencies":[{"issue_id":"clarity-4or.6","depends_on_id":"clarity-4or","type":"parent-child","created_at":"2026-02-11T16:35:29.97984+05:30","created_by":"Ragunath Jawahar"},{"issue_id":"clarity-4or.6","depends_on_id":"clarity-4or.5","type":"blocks","created_at":"2026-02-11T16:36:51.64242+05:30","created_by":"Ragunath Jawahar"}]}
{"id":"clarity-4or.6.1","title":"Return success code for no-diff and with-diff outcomes","description":"Exit 0 on successful execution regardless of whether differences are present.\n\nReference: [diff-subcommand-notes.md](docs/development/diff-subcommand-notes.md)","status":"open","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-11T16:35:30.185014+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-11T16:51:18.150865+05:30","dependencies":[{"issue_id":"clarity-4or.6.1","depends_on_id":"clarity-4or.6","type":"parent-child","created_at":"2026-02-11T16:35:30.189369+05:30","created_by":"Ragunath Jawahar"}]}
{"id":"clarity-4or.6.2","title":"Return non-zero on invalid git or graph/formatter failures","description":"Exit non-zero for invalid git state, bad refs, graph failures, and formatter failures.\n\nReference: [diff-subcommand-notes.md](docs/development/diff-subcommand-notes.md)","status":"open","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-11T16:35:30.351913+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-11T16:50:57.494524+05:30","dependencies":[{"issue_id":"clarity-4or.6.2","depends_on_id":"clarity-4or.6","type":"parent-child","created_at":"2026-02-11T16:35:30.353086+05:30","created_by":"Ragunath Jawahar"},{"issue_id":"clarity-4or.6.2","depends_on_id":"clarity-4or.6.1","type":"blocks","created_at":"2026-02-11T16:36:53.294086+05:30","created_by":"Ragunath Jawahar"}]}
{"id":"clarity-4or.6.3","title":"Harden and standardize error messages","description":"Provide clear diagnostics for malformed commit pairs, missing refs, and invalid revisions.\n\nReference: [diff-subcommand-notes.md](docs/development/diff-subcommand-notes.md)","status":"open","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-11T16:35:30.491691+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-11T16:50:36.880132+05:30","dependencies":[{"issue_id":"clarity-4or.6.3","depends_on_id":"clarity-4or.6","type":"parent-child","created_at":"2026-02-11T16:35:30.49269+05:30","created_by":"Ragunath Jawahar"},{"issue_id":"clarity-4or.6.3","depends_on_id":"clarity-4or.6.2","type":"blocks","created_at":"2026-02-11T16:36:53.404077+05:30","created_by":"Ragunath Jawahar"}]}
{"id":"clarity-4or.7","title":"Test coverage for diff modes and outputs","description":"Add unit, integration, and golden tests for behavior and determinism.\n\nReference: [diff-subcommand-notes.md](docs/development/diff-subcommand-notes.md)","status":"open","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-11T16:35:30.642496+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-11T16:50:16.234159+05:30","dependencies":[{"issue_id":"clarity-4or.7","depends_on_id":"clarity-4or","type":"parent-child","created_at":"2026-02-11T16:35:30.643674+05:30","created_by":"Ragunath Jawahar"},{"issue_id":"clarity-4or.7","depends_on_id":"clarity-4or.6","type":"blocks","created_at":"2026-02-11T16:36:51.751917+05:30","created_by":"Ragunath Jawahar"}]}
{"id":"clarity-4or.7.1","title":"Add unit tests for commit parsing and mode dispatch","description":"Cover valid/invalid commit forms and precedence logic.\n\nReference: [diff-subcommand-notes.md](docs/development/diff-subcommand-notes.md)","status":"open","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-11T16:35:30.78871+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-11T16:49:55.566846+05:30","dependencies":[{"issue_id":"clarity-4or.7.1","depends_on_id":"clarity-4or.7","type":"parent-child","created_at":"2026-02-11T16:35:30.789747+05:30","created_by":"Ragunath Jawahar"}]}
{"id":"clarity-4or.7.2","title":"Add integration tests for working-tree mode","description":"Cover staged, unstaged, untracked parseable, and ignored-file semantics.\n\nReference: [diff-subcommand-notes.md](docs/development/diff-subcommand-notes.md)","status":"open","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-11T16:35:30.935964+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-11T16:49:34.894442+05:30","dependencies":[{"issue_id":"clarity-4or.7.2","depends_on_id":"clarity-4or.7","type":"parent-child","created_at":"2026-02-11T16:35:30.937667+05:30","created_by":"Ragunath Jawahar"},{"issue_id":"clarity-4or.7.2","depends_on_id":"clarity-4or.7.1","type":"blocks","created_at":"2026-02-11T16:36:53.515344+05:30","created_by":"Ragunath Jawahar"}]}
{"id":"clarity-4or.7.3","title":"Add integration tests for commit mode","description":"Cover single, two-commit, merge first-parent semantics, root commit, and invalid refs.\n\nReference: [diff-subcommand-notes.md](docs/development/diff-subcommand-notes.md)","status":"open","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-11T16:35:31.079421+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-11T16:49:14.224403+05:30","dependencies":[{"issue_id":"clarity-4or.7.3","depends_on_id":"clarity-4or.7","type":"parent-child","created_at":"2026-02-11T16:35:31.080564+05:30","created_by":"Ragunath Jawahar"},{"issue_id":"clarity-4or.7.3","depends_on_id":"clarity-4or.7.2","type":"blocks","created_at":"2026-02-11T16:36:53.62647+05:30","created_by":"Ragunath Jawahar"}]}
{"id":"clarity-4or.7.4","title":"Add golden tests for DOT and summary determinism","description":"Verify stable output format, category order, and lexicographic entry sorting.\n\nReference: [diff-subcommand-notes.md](docs/development/diff-subcommand-notes.md)","status":"open","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-11T16:35:31.217863+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-11T16:48:53.555828+05:30","dependencies":[{"issue_id":"clarity-4or.7.4","depends_on_id":"clarity-4or.7","type":"parent-child","created_at":"2026-02-11T16:35:31.218888+05:30","created_by":"Ragunath Jawahar"},{"issue_id":"clarity-4or.7.4","depends_on_id":"clarity-4or.7.3","type":"blocks","created_at":"2026-02-11T16:36:53.735963+05:30","created_by":"Ragunath Jawahar"}]}
{"id":"clarity-4or.8","title":"Documentation and deferred follow-ups","description":"Document v1 behavior and track out-of-scope enhancements.\n\nReference: [diff-subcommand-notes.md](docs/development/diff-subcommand-notes.md)","status":"open","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-11T16:35:31.356282+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-11T16:48:32.898066+05:30","dependencies":[{"issue_id":"clarity-4or.8","depends_on_id":"clarity-4or","type":"parent-child","created_at":"2026-02-11T16:35:31.357187+05:30","created_by":"Ragunath Jawahar"},{"issue_id":"clarity-4or.8","depends_on_id":"clarity-4or.7","type":"blocks","created_at":"2026-02-11T16:36:51.861169+05:30","created_by":"Ragunath Jawahar"}]}
{"id":"clarity-4or.8.1","title":"Document CLI usage and examples for clarity diff","description":"Add examples for default, summary, and commit modes.\n\nReference: [diff-subcommand-notes.md](docs/development/diff-subcommand-notes.md)","status":"open","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-11T16:35:31.493935+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-11T16:48:12.228919+05:30","dependencies":[{"issue_id":"clarity-4or.8.1","depends_on_id":"clarity-4or.8","type":"parent-child","created_at":"2026-02-11T16:35:31.494884+05:30","created_by":"Ragunath Jawahar"}]}
{"id":"clarity-4or.8.2","title":"Document output contract and lifecycle semantics","description":"Describe node/edge delta semantics, summary ordering, and rename deferral behavior.\n\nReference: [diff-subcommand-notes.md](docs/development/diff-subcommand-notes.md)","status":"open","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-11T16:35:31.633559+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-11T16:47:51.563412+05:30","dependencies":[{"issue_id":"clarity-4or.8.2","depends_on_id":"clarity-4or.8","type":"parent-child","created_at":"2026-02-11T16:35:31.634542+05:30","created_by":"Ragunath Jawahar"},{"issue_id":"clarity-4or.8.2","depends_on_id":"clarity-4or.8.1","type":"blocks","created_at":"2026-02-11T16:36:53.844052+05:30","created_by":"Ragunath Jawahar"}]}
{"id":"clarity-4or.8.3","title":"Create follow-up issues for deferred capabilities","description":"Track rename detection, compact rendering toggles, untracked inclusion flag policy, and policy-based exit codes.\n\nReference: [diff-subcommand-notes.md](docs/development/diff-subcommand-notes.md)","status":"open","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-11T16:35:31.76888+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-11T16:47:30.894161+05:30","dependencies":[{"issue_id":"clarity-4or.8.3","depends_on_id":"clarity-4or.8","type":"parent-child","created_at":"2026-02-11T16:35:31.769855+05:30","created_by":"Ragunath Jawahar"},{"issue_id":"clarity-4or.8.3","depends_on_id":"clarity-4or.8.2","type":"blocks","created_at":"2026-02-11T16:36:53.950074+05:30","created_by":"Ragunath Jawahar"}]}
{"id":"clarity-4or.9","title":"Delete completed design notes file docs/development/diff-subcommand-notes.md","description":"After clarity diff feature implementation is complete, delete docs/development/diff-subcommand-notes.md because the design notes have been fully executed.","status":"open","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-11T16:37:29.139568+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-11T16:37:29.139568+05:30","dependencies":[{"issue_id":"clarity-4or.9","depends_on_id":"clarity-4or","type":"parent-child","created_at":"2026-02-11T16:37:29.141415+05:30","created_by":"Ragunath Jawahar"},{"issue_id":"clarity-4or.9","depends_on_id":"clarity-4or.8","type":"blocks","created_at":"2026-02-11T16:37:29.258436+05:30","created_by":"Ragunath Jawahar"}]}
{"id":"clarity-4sg","title":"Review and implement prime subcommand properly","description":"Audit the current prime subcommand behavior and implementation, identify gaps, and implement a robust, user-ready version with clear UX and error handling.","acceptance_criteria":"- Document current behavior and gaps for prime.\\n- Implement missing or incorrect prime behavior.\\n- Ensure help text and examples are accurate.\\n- Add/update tests for core success and failure paths.","status":"closed","priority":1,"issue_type":"feature","owner":"ragunath@legacycode.com","created_at":"2026-02-05T20:28:01.93649+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-07T08:32:49.292045+05:30","closed_at":"2026-02-07T08:32:49.292045+05:30","close_reason":"Closed","dependencies":[{"issue_id":"clarity-4sg","depends_on_id":"clarity-sso","type":"parent-child","created_at":"2026-02-05T23:07:01.246774+05:30","created_by":"Ragunath Jawahar"}]}
{"id":"clarity-4u3","title":"Standardize error handling patterns","description":"Issues: 1) Silent error suppression at dependency_graph_builder.go:68-72, 2) Returns nil instead of empty slice at lines 527-544, 3) Inverted error checks (err == nil) at multiple locations. Standardize to if err != nil pattern.","status":"closed","priority":3,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-03T22:04:14.049954+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-05T15:20:35.044964+05:30","closed_at":"2026-02-05T15:20:35.044964+05:30","close_reason":"Closed"}
{"id":"clarity-5dk","title":"Resolve -i/-w paths relative to repo when -r is set","description":"When users pass --repo/-r to target a repository, all graph flags that accept file or directory paths should resolve relative paths from that repository root. Today, relative paths are resolved from the caller's current working directory, which causes incorrect behavior when running from outside the target repo.\\n\\nThis should apply consistently to existing path-taking graph flags: --input/-i, --between/-w, and --file/-p, and establish a single path-resolution rule for any future path flags in this command.","acceptance_criteria":"- With --repo \u003crepo\u003e, relative paths passed to --input/-i resolve from \u003crepo\u003e root.\\n- With --repo \u003crepo\u003e, relative paths passed to --between/-w resolve from \u003crepo\u003e root.\\n- With --repo \u003crepo\u003e, relative paths passed to --file/-p resolve from \u003crepo\u003e root.\\n- Absolute paths continue to work unchanged.\\n- Without --repo, relative paths continue to resolve from current working directory (existing behavior).\\n- Add tests covering relative and absolute path behavior for --input, --between, and --file with and without --repo.","status":"closed","priority":2,"issue_type":"bug","owner":"ragunath@legacycode.com","created_at":"2026-02-05T20:22:54.814516+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-05T20:55:18.790118+05:30","closed_at":"2026-02-05T20:55:18.790118+05:30","close_reason":"Closed"}
{"id":"clarity-7he","title":"Harden git argument validation for security","status":"closed","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-06T07:32:31.849073+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-06T07:34:44.077144+05:30","closed_at":"2026-02-06T07:34:44.077144+05:30","close_reason":"Closed"}
{"id":"clarity-7l1","title":"Move IsTestFile logic out of formatter_utils.go","description":"The `IsTestFile` function in `cmd/graph/formatters/common/formatter_utils.go` is misplaced. Test file detection is language-specific and sometimes framework-specific logic that doesn't belong in formatter utilities.\n\nCurrent location: `cmd/graph/formatters/common/formatter_utils.go:46`\n\nProblem:\n- Test file detection depends on programming language conventions (e.g., `_test.go` for Go, `.test.ts` for TypeScript)\n- Some languages have framework-specific conventions (e.g., `__tests__/` directory for Jest)\n- Formatters should only be concerned with output formatting, not semantic analysis\n\nPossible new locations:\n- Language-specific parsers (each parser knows its own test conventions)\n- Dependency graph builder (if test detection is needed during graph construction)\n\nAcceptance criteria:\n- `IsTestFile` removed from formatter_utils.go\n- Logic moved to appropriate location (parser or graph builder)\n- All existing functionality preserved","status":"closed","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-03T23:17:04.515507+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-05T16:42:23.691721+05:30","closed_at":"2026-02-05T16:42:23.691721+05:30","close_reason":"Closed"}
{"id":"clarity-7ne","title":"Split git.go (1015 lines) into focused modules","description":"vcs/git.go is 1015 lines handling git operations, error handling, file stats. Split into: git_tree.go (tree operations), git_diff.go (diff handling), git_stats.go (file statistics).","status":"closed","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-03T22:04:07.618627+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-03T23:00:47.639102+05:30","closed_at":"2026-02-03T23:00:47.639102+05:30","close_reason":"Split complete - git.go into 4 focused modules with corresponding test files"}
{"id":"clarity-8wa","title":"Switch npm publish back to OIDC trusted publishing","description":"Remove temporary NPM_TOKEN-based auth from publish-npm workflow now that npm trusted publisher is configured.","status":"closed","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-09T01:43:59.892411+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-09T01:45:01.497914+05:30","closed_at":"2026-02-09T01:45:01.497914+05:30","close_reason":"Closed"}
{"id":"clarity-976","title":"Highlight cyclic dependencies in rendered graph","description":"Add visual highlighting for cyclic dependencies when rendering dependency graphs. This will help users quickly identify circular references that may cause issues in their dependency structure.\n\nAcceptance criteria:\n- Cyclic dependencies should be visually distinct (e.g., different color, dashed lines)\n- The cycle path should be clearly identifiable\n- Works with both terminal and any graphical graph output","status":"closed","priority":2,"issue_type":"feature","owner":"ragunath@legacycode.com","created_at":"2026-02-03T23:15:13.338191+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-05T19:29:35.692709+05:30","closed_at":"2026-02-05T19:29:35.692709+05:30","close_reason":"Closed"}
{"id":"clarity-9lw","title":"Enforce repo-bound input paths","description":"Restrict graph input paths to repo root by default and add allow-outside flag.","status":"closed","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-06T07:36:15.521113+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-06T07:37:53.957465+05:30","closed_at":"2026-02-06T07:37:53.957465+05:30","close_reason":"Closed"}
{"id":"clarity-a2e","title":"Remove unused extension-majority logic in Mermaid formatter","description":"In cmd/graph/formatters/mermaid/formatter_mermaid.go, extensionCounts, majorityExtension, and filesWithMajorityExtension are computed but never used to style or filter nodes. Remove this dead code while preserving deterministic output.","status":"closed","priority":1,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-05T17:22:42.793166+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-05T17:29:53.015731+05:30","closed_at":"2026-02-05T17:29:53.015731+05:30","close_reason":"Closed","dependencies":[{"issue_id":"clarity-a2e","depends_on_id":"clarity-r5d","type":"discovered-from","created_at":"2026-02-05T17:22:42.795514+05:30","created_by":"Ragunath Jawahar"}]}
{"id":"clarity-a4e","title":"Review and implement init subcommand properly","description":"Audit the current init subcommand behavior and implementation, identify gaps, and implement a robust, user-ready version with clear UX and error handling.","acceptance_criteria":"- Document current behavior and gaps for init.\\n- Implement missing or incorrect init behavior.\\n- Ensure help text and examples are accurate.\\n- Add/update tests for core success and failure paths.","status":"closed","priority":1,"issue_type":"feature","owner":"ragunath@legacycode.com","created_at":"2026-02-05T20:27:56.81471+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-07T08:33:15.532002+05:30","closed_at":"2026-02-07T08:33:15.532002+05:30","close_reason":"Closed","dependencies":[{"issue_id":"clarity-a4e","depends_on_id":"clarity-sso","type":"parent-child","created_at":"2026-02-05T23:07:06.410591+05:30","created_by":"Ragunath Jawahar"}]}
{"id":"clarity-bak","title":"Add govulncheck to CI","description":"Run govulncheck in CI to detect known Go vulnerabilities.","status":"closed","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-06T07:45:29.215716+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-06T07:46:17.51138+05:30","closed_at":"2026-02-06T07:46:17.51138+05:30","close_reason":"Closed"}
{"id":"clarity-bii","title":"Temporarily use NPM_TOKEN for first npm publish","description":"Update release workflow to use NODE_AUTH_TOKEN from NPM_TOKEN for initial package bootstrap publish, then validate workflow syntax and project quality gates.","status":"closed","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-09T01:18:22.896481+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-09T01:19:28.593391+05:30","closed_at":"2026-02-09T01:19:28.593391+05:30","close_reason":"Closed"}
{"id":"clarity-cc8","title":"Graph should render files even when language dependencies are unsupported","description":"Running graph with a repository/path containing unsupported languages currently fails with: 'no supported files found in specified paths'. This prevents users from seeing the files involved, even when dependency resolution is unavailable for that language.\\n\\nRepro:\\n./sanity graph -r ~/GitHubProjects/LowLevelDesign -i ~/GitHubProjects/LowLevelDesign/src/com/lld/amazon/model\\n\\nCurrent behavior:\\n- Command exits with error when no supported language parser is found for the selected files.\\n\\nExpected behavior:\\n- Graph should still render/include each selected file (or each file in the selected commit/path scope) as standalone nodes.\\n- Dependency edges can be omitted when language support is unavailable.\\n- Command should not fail solely because dependency extraction is unsupported for the file language.","acceptance_criteria":"- For unsupported-language files selected via --input/-i, output includes file nodes and exits successfully.\\n- For unsupported-language files selected via --commit/-c scope, output includes changed file nodes and exits successfully.\\n- Dependency edges are omitted when extraction is unsupported, with a clear non-fatal note/warning.\\n- Existing behavior for supported languages remains unchanged.\\n- Add tests for unsupported-language input and commit scenarios.","status":"closed","priority":2,"issue_type":"bug","owner":"ragunath@legacycode.com","created_at":"2026-02-05T20:30:25.056853+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-05T20:38:31.737568+05:30","closed_at":"2026-02-05T20:38:31.737568+05:30","close_reason":"Closed"}
{"id":"clarity-d5u","title":"Investigate suspected cyclic dependency in ea5c71b4c23f2b0ad6df25e75fbb3ef2241272ca","description":"The commit ea5c71b4c23f2b0ad6df25e75fbb3ef2241272ca appears to introduce or expose a cyclic dependency. We need to investigate where the cycle occurs, whether it is a true regression or pre-existing behavior now surfaced, and determine the minimal safe fix.","acceptance_criteria":"1) Reproduce and document the cycle with concrete file/module nodes and steps.\\n2) Confirm whether cycle behavior started at ea5c71b4c23f2b0ad6df25e75fbb3ef2241272ca or existed before.\\n3) Propose and implement a fix (or document why no code change is required).\\n4) Add/adjust regression tests to prevent recurrence.\\n5) Verify with make lint and make test.","status":"closed","priority":1,"issue_type":"bug","owner":"ragunath@legacycode.com","created_at":"2026-02-05T21:48:06.859533+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-05T22:24:18.084743+05:30","closed_at":"2026-02-05T22:24:18.084743+05:30","close_reason":"Closed","labels":["cycle","depgraph","investigation"]}
{"id":"clarity-dpu","title":"Make sanity setup idempotent and worktree-safe","description":"Current setup checks only for .git directory and always appends snippet. Improve to support worktrees (.git file) and avoid duplicate snippet insertion via a marker or structured update in AGENTS.md. Add tests if needed.","status":"closed","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-05T22:44:16.29223+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-07T09:01:09.22059+05:30","closed_at":"2026-02-07T09:01:09.22059+05:30","close_reason":"Closed","dependencies":[{"issue_id":"clarity-dpu","depends_on_id":"clarity-sso","type":"parent-child","created_at":"2026-02-06T08:15:21.820438+05:30","created_by":"Ragunath Jawahar"}]}
{"id":"clarity-e01","title":"Configure GHRS_GITHUB_API_TOKEN GitHub secret","status":"closed","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-08T22:49:19.533976+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-08T22:59:22.673503+05:30","closed_at":"2026-02-08T22:59:22.673503+05:30","close_reason":"Closed"}
{"id":"clarity-edj","title":"Configure npm org access and NPM_TOKEN for release workflow","description":"Set up npm org/package ownership for @legacycodehq/sanity and add NPM_TOKEN secret in GitHub so publish-npm job can run on tag releases. Validate with first tag publish.","status":"closed","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-09T00:28:44.851316+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-09T00:55:02.251604+05:30","closed_at":"2026-02-09T00:55:02.251604+05:30","close_reason":"Closed"}
{"id":"clarity-fs3","title":"Fix deeply nested code in dependency builder","description":"dependency_graph_builder.go:203-227 has 5-6 levels of nesting (if/for/if/for/if/if). Extract into a fileDefinesUsedSymbol helper function.","status":"closed","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-03T22:04:08.705207+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-05T17:11:36.85023+05:30","closed_at":"2026-02-05T17:11:36.85023+05:30","close_reason":"Closed"}
{"id":"clarity-i3k","title":"Add missing tests for formatter factory and options","description":"Missing test coverage: format_options.go (FormatOptions struct), formatter.go (interface definitions), formatter_factory.go (26 lines). These core components lack unit tests.","status":"tombstone","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-03T22:04:12.499025+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-03T22:16:48.443905+05:30","deleted_at":"2026-02-03T22:16:48.443905+05:30","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"clarity-i3o","title":"Support commit range in --commit flag (e.g., abc...def)","status":"closed","priority":2,"issue_type":"feature","owner":"ragunath@legacycode.com","created_at":"2026-01-16T20:03:42.863976+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-01-16T20:20:35.678511+05:30","closed_at":"2026-01-16T20:20:35.678511+05:30","close_reason":"Implemented commit range support with normalization"}
{"id":"clarity-kdh","title":"Consolidate git command execution with timeouts","description":"vcs/git duplicates exec.Command usage without timeouts. Add a small helper that runs git commands with context timeout and consistent stderr handling; refactor git.go, git_diff.go, git_stats.go to use it.","status":"closed","priority":3,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-05T22:44:30.83142+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-07T09:08:17.982078+05:30","closed_at":"2026-02-07T09:08:17.982078+05:30","close_reason":"Closed"}
{"id":"clarity-mk9","title":"Review and implement onboard subcommand properly","description":"Audit the current onboard subcommand behavior and implementation, identify gaps, and implement a robust, user-ready version with clear UX and error handling.","acceptance_criteria":"- Document current behavior and gaps for onboard.\\n- Implement missing or incorrect onboard behavior.\\n- Ensure help text and examples are accurate.\\n- Add/update tests for core success and failure paths.","status":"closed","priority":1,"issue_type":"feature","owner":"ragunath@legacycode.com","created_at":"2026-02-05T20:28:01.936442+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-07T08:33:01.888371+05:30","closed_at":"2026-02-07T08:33:01.888371+05:30","close_reason":"Closed","dependencies":[{"issue_id":"clarity-mk9","depends_on_id":"clarity-sso","type":"parent-child","created_at":"2026-02-05T23:07:03.232998+05:30","created_by":"Ragunath Jawahar"}]}
{"id":"clarity-owl","title":"Add integration tests for sanity graph -c","status":"closed","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-05T11:03:19.987065+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-05T11:05:59.600935+05:30","closed_at":"2026-02-05T11:05:59.600935+05:30","close_reason":"Closed"}
{"id":"clarity-pb5","title":"Add dedicated JavaScript language module support","description":"Capture follow-up from language-module refactor: we intentionally did NOT register .js/.jsx on TypeScript module because languageRegistry implies full analysis support (not just test-file detection). Current bridge in depgraph/test_file.go preserves historical JS/JSX test-file matching without declaring JS graph support.\\n\\nFollow-up should introduce first-class JavaScript module support rather than aliasing TypeScript extensions in registry.","acceptance_criteria":"1) Add a dedicated JavaScript LanguageModule/LanguageResolver in depgraph (separate from TypeScript).\\n2) Register .js/.jsx via the JavaScript module in languageRegistry.\\n3) Ensure parser/resolution behavior is correct for JS and JSX (JSX mode explicitly handled).\\n4) Add/adjust tests for SupportedLanguages/SupportedLanguageExtensions and dependency resolution for .js/.jsx.\\n5) Remove the temporary JS/JSX compatibility branch in depgraph/test_file.go if no longer needed.","status":"closed","priority":2,"issue_type":"feature","owner":"ragunath@legacycode.com","created_at":"2026-02-05T21:45:32.007702+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-06T08:33:19.032162+05:30","closed_at":"2026-02-06T08:33:19.032162+05:30","close_reason":"Closed","labels":["depgraph","javascript","languages"]}
{"id":"clarity-po5","title":"Improve setup instructions for CLI-based agents","description":"Current docs are not clear enough for CLI-based agent setup. Add clearer, step-by-step setup instructions (prereqs, installation, configuration, verification, and troubleshooting) so new contributors can get running quickly and consistently.","status":"closed","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-08T19:56:12.009465+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-08T20:00:19.803502+05:30","closed_at":"2026-02-08T20:00:19.803502+05:30","close_reason":"Closed"}
{"id":"clarity-qlf","title":"Align npm release flow with beads implementation","description":"Add npm os/cpu guards, improve postinstall CI/windows behavior, switch npm publish to OIDC trusted publishing, and fix release metadata inconsistencies discovered during beads comparison.","status":"closed","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-09T00:53:36.278939+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-09T00:55:07.329833+05:30","closed_at":"2026-02-09T00:55:07.329833+05:30","close_reason":"Closed"}
{"id":"clarity-r5d","title":"Extract duplicate formatter logic to common package","description":"DOT and Mermaid formatters duplicate identical extension-counting logic (lines 46-84 in formatter_dot.go and 52-84 in formatter_mermaid.go). Extract to shared helper in common package.","status":"closed","priority":1,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-03T22:04:02.938229+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-05T17:24:54.737291+05:30","closed_at":"2026-02-05T17:24:54.737291+05:30","close_reason":"Closed"}
{"id":"clarity-sso","title":"Agentic tools integration","status":"closed","priority":1,"issue_type":"epic","owner":"ragunath@legacycode.com","created_at":"2026-02-05T23:06:56.20779+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-07T08:33:29.277417+05:30","closed_at":"2026-02-07T08:33:29.277417+05:30","close_reason":"Closed"}
{"id":"clarity-t8j","title":"Add 'languages' command to list supported languages and extensions","description":"Implement a new top-level command, sanity languages, that prints all programming languages supported by the currently installed Sanity version and the file extensions mapped to each language.\n\nThis gives users a clear, self-serve way to verify support before using commands like sanity graph.","acceptance_criteria":"- Add sanity languages command.\n- Output includes each supported language and its associated file extensions.\n- Output reflects the currently installed version (no hardcoded outdated list).\n- Include a human-readable table/list format; optionally support machine-readable output if consistent with existing CLI patterns.\n- Add help text and examples for the command.\n- Add tests validating command output contains known supported languages/extensions.","status":"closed","priority":2,"issue_type":"feature","owner":"ragunath@legacycode.com","created_at":"2026-02-05T20:31:28.240271+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-05T21:23:58.333588+05:30","closed_at":"2026-02-05T21:23:58.333588+05:30","close_reason":"Closed"}
{"id":"clarity-uww","title":"Extract hardcoded URLs and colors to config","description":"Hardcoded values that should be configurable: GraphViz URL (formatter_dot.go:179), Mermaid URLs (formatter_mermaid.go:197,201), colors (formatter_mermaid.go:170-171), color palette (formatter_utils.go:14-18), stdlib prefixes (go_parser.go:65-70).","status":"tombstone","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-03T22:04:10.698598+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-03T22:16:48.443905+05:30","deleted_at":"2026-02-03T22:16:48.443905+05:30","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"clarity-v78","title":"Fix golangci-lint context loading failure","status":"closed","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-05T16:31:25.497374+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-05T17:12:40.085032+05:30","closed_at":"2026-02-05T17:12:40.085032+05:30","close_reason":"Closed"}
{"id":"clarity-y0f","title":"Decide and document formatter parity for extension-based coloring","description":"DOT formatter applies extension-majority-based coloring while Mermaid currently does not. Decide whether behavior should be consistent across formatters or intentionally different, document the decision, and add/update tests accordingly.","status":"closed","priority":1,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-05T17:23:25.158319+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-05T17:35:23.471575+05:30","closed_at":"2026-02-05T17:35:23.471575+05:30","close_reason":"Closed","dependencies":[{"issue_id":"clarity-y0f","depends_on_id":"clarity-r5d","type":"discovered-from","created_at":"2026-02-05T17:23:25.160042+05:30","created_by":"Ragunath Jawahar"}]}
{"id":"clarity-ylj","title":"Review all test files in vcs module","status":"closed","priority":1,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-03T23:02:30.070415+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-05T17:16:34.373701+05:30","closed_at":"2026-02-05T17:16:34.373701+05:30","close_reason":"Closed"}
{"id":"clarity-z4p","title":"Replace DependencyGraph with dominikbraun/graph","description":"Replace our internal DependencyGraph type with github.com/dominikbraun/graph (https://github.com/dominikbraun/graph) to leverage a maintained graph library and reduce custom graph maintenance.","status":"closed","priority":1,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-05T17:19:42.995402+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-05T17:44:51.611598+05:30","closed_at":"2026-02-05T17:44:51.611598+05:30","close_reason":"Closed"}
{"id":"sanity-0ol","title":"Add exclude support for sanity graph -i directory scans","description":"Directory walks currently traverse everything. Add default excludes (e.g., .git, node_modules, vendor) and/or a --exclude flag to skip heavy dirs. Update help text and tests.","status":"open","priority":2,"issue_type":"feature","owner":"ragunath@legacycode.com","created_at":"2026-02-05T22:45:18.694936+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-05T23:09:42.793682+05:30"}
{"id":"sanity-1c4","title":"Replace Java regex parser with tree-sitter","description":"Current Java parsing uses regex and can misclassify imports/types. Implement tree-sitter-based parsing for package/import/type discovery, mirroring Kotlin/Go/TS approach, and update tests accordingly.","status":"closed","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-05T22:44:44.997416+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-06T05:54:29.59719+05:30","closed_at":"2026-02-06T05:54:29.59719+05:30","close_reason":"Closed"}
{"id":"sanity-1dv","title":"Resolve CLI flag conflict: --verbose vs --version","description":"Resolve CLI flag conflict where -v/--verbose and --version are ambiguous. Update CLI flag definitions and help text so both flags work as intended (e.g., rename/repurpose one flag or adjust parsing).","status":"closed","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-05T23:38:02.855904+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-06T09:31:44.410779+05:30","closed_at":"2026-02-06T09:31:44.410779+05:30","close_reason":"Closed"}
{"id":"sanity-2cn","title":"Refactor graph command RunE function (299 lines)","description":"graph_cmd.go RunE function (lines 44-343) handles validation, file resolution, graph building, filtering, and formatting. Split into focused functions.","status":"closed","priority":1,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-03T22:04:05.92037+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-05T15:16:39.265088+05:30","closed_at":"2026-02-05T15:16:39.265088+05:30","close_reason":"Closed"}
{"id":"sanity-3g2","title":"Refactor BuildDependencyGraph function (312 lines)","description":"dependency_graph_builder.go:22-334 has a 312-line function with multiple responsibilities: building indices, parsing files, filtering imports across 4+ languages. Split into smaller focused functions.","status":"closed","priority":1,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-03T22:04:04.674136+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-05T15:00:08.477956+05:30","closed_at":"2026-02-05T15:00:08.477956+05:30","close_reason":"Closed"}
{"id":"sanity-3wn","title":"Fix missing testhelpers.goldieWithSuffix","status":"tombstone","priority":1,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-05T11:16:08.565828+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-05T11:22:36.510028+05:30","close_reason":"Closed","deleted_at":"2026-02-05T11:22:36.510028+05:30","deleted_by":"Ragunath Jawahar","delete_reason":"delete","original_type":"task"}
{"id":"sanity-4ok","title":"Add --commit flag to why subcommand","description":"Extend  to support commit-scoped analysis like , so users can query direct/member-level relationships at a specific commit or commit range without checking out files.","status":"open","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-09T04:02:03.730062+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-09T04:02:03.730062+05:30"}
{"id":"sanity-4sg","title":"Review and implement prime subcommand properly","description":"Audit the current prime subcommand behavior and implementation, identify gaps, and implement a robust, user-ready version with clear UX and error handling.","acceptance_criteria":"- Document current behavior and gaps for prime.\\n- Implement missing or incorrect prime behavior.\\n- Ensure help text and examples are accurate.\\n- Add/update tests for core success and failure paths.","status":"closed","priority":1,"issue_type":"feature","owner":"ragunath@legacycode.com","created_at":"2026-02-05T20:28:01.93649+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-07T08:32:49.292045+05:30","closed_at":"2026-02-07T08:32:49.292045+05:30","close_reason":"Closed","dependencies":[{"issue_id":"sanity-4sg","depends_on_id":"sanity-sso","type":"parent-child","created_at":"2026-02-05T23:07:01.246774+05:30","created_by":"Ragunath Jawahar"}]}
{"id":"sanity-4u3","title":"Standardize error handling patterns","description":"Issues: 1) Silent error suppression at dependency_graph_builder.go:68-72, 2) Returns nil instead of empty slice at lines 527-544, 3) Inverted error checks (err == nil) at multiple locations. Standardize to if err != nil pattern.","status":"closed","priority":3,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-03T22:04:14.049954+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-05T15:20:35.044964+05:30","closed_at":"2026-02-05T15:20:35.044964+05:30","close_reason":"Closed"}
{"id":"sanity-5dk","title":"Resolve -i/-w paths relative to repo when -r is set","description":"When users pass --repo/-r to target a repository, all graph flags that accept file or directory paths should resolve relative paths from that repository root. Today, relative paths are resolved from the caller's current working directory, which causes incorrect behavior when running from outside the target repo.\\n\\nThis should apply consistently to existing path-taking graph flags: --input/-i, --between/-w, and --file/-p, and establish a single path-resolution rule for any future path flags in this command.","acceptance_criteria":"- With --repo \u003crepo\u003e, relative paths passed to --input/-i resolve from \u003crepo\u003e root.\\n- With --repo \u003crepo\u003e, relative paths passed to --between/-w resolve from \u003crepo\u003e root.\\n- With --repo \u003crepo\u003e, relative paths passed to --file/-p resolve from \u003crepo\u003e root.\\n- Absolute paths continue to work unchanged.\\n- Without --repo, relative paths continue to resolve from current working directory (existing behavior).\\n- Add tests covering relative and absolute path behavior for --input, --between, and --file with and without --repo.","status":"closed","priority":2,"issue_type":"bug","owner":"ragunath@legacycode.com","created_at":"2026-02-05T20:22:54.814516+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-05T20:55:18.790118+05:30","closed_at":"2026-02-05T20:55:18.790118+05:30","close_reason":"Closed"}
{"id":"sanity-7he","title":"Harden git argument validation for security","status":"closed","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-06T07:32:31.849073+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-06T07:34:44.077144+05:30","closed_at":"2026-02-06T07:34:44.077144+05:30","close_reason":"Closed"}
{"id":"sanity-7l1","title":"Move IsTestFile logic out of formatter_utils.go","description":"The `IsTestFile` function in `cmd/graph/formatters/common/formatter_utils.go` is misplaced. Test file detection is language-specific and sometimes framework-specific logic that doesn't belong in formatter utilities.\n\nCurrent location: `cmd/graph/formatters/common/formatter_utils.go:46`\n\nProblem:\n- Test file detection depends on programming language conventions (e.g., `_test.go` for Go, `.test.ts` for TypeScript)\n- Some languages have framework-specific conventions (e.g., `__tests__/` directory for Jest)\n- Formatters should only be concerned with output formatting, not semantic analysis\n\nPossible new locations:\n- Language-specific parsers (each parser knows its own test conventions)\n- Dependency graph builder (if test detection is needed during graph construction)\n\nAcceptance criteria:\n- `IsTestFile` removed from formatter_utils.go\n- Logic moved to appropriate location (parser or graph builder)\n- All existing functionality preserved","status":"closed","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-03T23:17:04.515507+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-05T16:42:23.691721+05:30","closed_at":"2026-02-05T16:42:23.691721+05:30","close_reason":"Closed"}
{"id":"sanity-7ne","title":"Split git.go (1015 lines) into focused modules","description":"vcs/git.go is 1015 lines handling git operations, error handling, file stats. Split into: git_tree.go (tree operations), git_diff.go (diff handling), git_stats.go (file statistics).","status":"closed","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-03T22:04:07.618627+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-03T23:00:47.639102+05:30","closed_at":"2026-02-03T23:00:47.639102+05:30","close_reason":"Split complete - git.go into 4 focused modules with corresponding test files"}
{"id":"sanity-8wa","title":"Switch npm publish back to OIDC trusted publishing","description":"Remove temporary NPM_TOKEN-based auth from publish-npm workflow now that npm trusted publisher is configured.","status":"closed","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-09T01:43:59.892411+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-09T01:45:01.497914+05:30","closed_at":"2026-02-09T01:45:01.497914+05:30","close_reason":"Closed"}
{"id":"sanity-976","title":"Highlight cyclic dependencies in rendered graph","description":"Add visual highlighting for cyclic dependencies when rendering dependency graphs. This will help users quickly identify circular references that may cause issues in their dependency structure.\n\nAcceptance criteria:\n- Cyclic dependencies should be visually distinct (e.g., different color, dashed lines)\n- The cycle path should be clearly identifiable\n- Works with both terminal and any graphical graph output","status":"closed","priority":2,"issue_type":"feature","owner":"ragunath@legacycode.com","created_at":"2026-02-03T23:15:13.338191+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-05T19:29:35.692709+05:30","closed_at":"2026-02-05T19:29:35.692709+05:30","close_reason":"Closed"}
{"id":"sanity-9lw","title":"Enforce repo-bound input paths","description":"Restrict graph input paths to repo root by default and add allow-outside flag.","status":"closed","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-06T07:36:15.521113+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-06T07:37:53.957465+05:30","closed_at":"2026-02-06T07:37:53.957465+05:30","close_reason":"Closed"}
{"id":"sanity-a2e","title":"Remove unused extension-majority logic in Mermaid formatter","description":"In cmd/graph/formatters/mermaid/formatter_mermaid.go, extensionCounts, majorityExtension, and filesWithMajorityExtension are computed but never used to style or filter nodes. Remove this dead code while preserving deterministic output.","status":"closed","priority":1,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-05T17:22:42.793166+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-05T17:29:53.015731+05:30","closed_at":"2026-02-05T17:29:53.015731+05:30","close_reason":"Closed","dependencies":[{"issue_id":"sanity-a2e","depends_on_id":"sanity-r5d","type":"discovered-from","created_at":"2026-02-05T17:22:42.795514+05:30","created_by":"Ragunath Jawahar"}]}
{"id":"sanity-a4e","title":"Review and implement init subcommand properly","description":"Audit the current init subcommand behavior and implementation, identify gaps, and implement a robust, user-ready version with clear UX and error handling.","acceptance_criteria":"- Document current behavior and gaps for init.\\n- Implement missing or incorrect init behavior.\\n- Ensure help text and examples are accurate.\\n- Add/update tests for core success and failure paths.","status":"closed","priority":1,"issue_type":"feature","owner":"ragunath@legacycode.com","created_at":"2026-02-05T20:27:56.81471+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-07T08:33:15.532002+05:30","closed_at":"2026-02-07T08:33:15.532002+05:30","close_reason":"Closed","dependencies":[{"issue_id":"sanity-a4e","depends_on_id":"sanity-sso","type":"parent-child","created_at":"2026-02-05T23:07:06.410591+05:30","created_by":"Ragunath Jawahar"}]}
{"id":"sanity-bak","title":"Add govulncheck to CI","description":"Run govulncheck in CI to detect known Go vulnerabilities.","status":"closed","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-06T07:45:29.215716+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-06T07:46:17.51138+05:30","closed_at":"2026-02-06T07:46:17.51138+05:30","close_reason":"Closed"}
{"id":"sanity-bii","title":"Temporarily use NPM_TOKEN for first npm publish","description":"Update release workflow to use NODE_AUTH_TOKEN from NPM_TOKEN for initial package bootstrap publish, then validate workflow syntax and project quality gates.","status":"closed","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-09T01:18:22.896481+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-09T01:19:28.593391+05:30","closed_at":"2026-02-09T01:19:28.593391+05:30","close_reason":"Closed"}
{"id":"sanity-cc8","title":"Graph should render files even when language dependencies are unsupported","description":"Running graph with a repository/path containing unsupported languages currently fails with: 'no supported files found in specified paths'. This prevents users from seeing the files involved, even when dependency resolution is unavailable for that language.\\n\\nRepro:\\n./sanity graph -r ~/GitHubProjects/LowLevelDesign -i ~/GitHubProjects/LowLevelDesign/src/com/lld/amazon/model\\n\\nCurrent behavior:\\n- Command exits with error when no supported language parser is found for the selected files.\\n\\nExpected behavior:\\n- Graph should still render/include each selected file (or each file in the selected commit/path scope) as standalone nodes.\\n- Dependency edges can be omitted when language support is unavailable.\\n- Command should not fail solely because dependency extraction is unsupported for the file language.","acceptance_criteria":"- For unsupported-language files selected via --input/-i, output includes file nodes and exits successfully.\\n- For unsupported-language files selected via --commit/-c scope, output includes changed file nodes and exits successfully.\\n- Dependency edges are omitted when extraction is unsupported, with a clear non-fatal note/warning.\\n- Existing behavior for supported languages remains unchanged.\\n- Add tests for unsupported-language input and commit scenarios.","status":"closed","priority":2,"issue_type":"bug","owner":"ragunath@legacycode.com","created_at":"2026-02-05T20:30:25.056853+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-05T20:38:31.737568+05:30","closed_at":"2026-02-05T20:38:31.737568+05:30","close_reason":"Closed"}
{"id":"sanity-d5u","title":"Investigate suspected cyclic dependency in ea5c71b4c23f2b0ad6df25e75fbb3ef2241272ca","description":"The commit ea5c71b4c23f2b0ad6df25e75fbb3ef2241272ca appears to introduce or expose a cyclic dependency. We need to investigate where the cycle occurs, whether it is a true regression or pre-existing behavior now surfaced, and determine the minimal safe fix.","acceptance_criteria":"1) Reproduce and document the cycle with concrete file/module nodes and steps.\\n2) Confirm whether cycle behavior started at ea5c71b4c23f2b0ad6df25e75fbb3ef2241272ca or existed before.\\n3) Propose and implement a fix (or document why no code change is required).\\n4) Add/adjust regression tests to prevent recurrence.\\n5) Verify with make lint and make test.","status":"closed","priority":1,"issue_type":"bug","owner":"ragunath@legacycode.com","created_at":"2026-02-05T21:48:06.859533+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-05T22:24:18.084743+05:30","closed_at":"2026-02-05T22:24:18.084743+05:30","close_reason":"Closed","labels":["cycle","depgraph","investigation"]}
{"id":"sanity-dpu","title":"Make sanity setup idempotent and worktree-safe","description":"Current setup checks only for .git directory and always appends snippet. Improve to support worktrees (.git file) and avoid duplicate snippet insertion via a marker or structured update in AGENTS.md. Add tests if needed.","status":"closed","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-05T22:44:16.29223+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-07T09:01:09.22059+05:30","closed_at":"2026-02-07T09:01:09.22059+05:30","close_reason":"Closed","dependencies":[{"issue_id":"sanity-dpu","depends_on_id":"sanity-sso","type":"parent-child","created_at":"2026-02-06T08:15:21.820438+05:30","created_by":"Ragunath Jawahar"}]}
{"id":"sanity-e01","title":"Configure GHRS_GITHUB_API_TOKEN GitHub secret","status":"closed","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-08T22:49:19.533976+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-08T22:59:22.673503+05:30","closed_at":"2026-02-08T22:59:22.673503+05:30","close_reason":"Closed"}
{"id":"sanity-edj","title":"Configure npm org access and NPM_TOKEN for release workflow","description":"Set up npm org/package ownership for @legacycodehq/sanity and add NPM_TOKEN secret in GitHub so publish-npm job can run on tag releases. Validate with first tag publish.","status":"closed","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-09T00:28:44.851316+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-09T00:55:02.251604+05:30","closed_at":"2026-02-09T00:55:02.251604+05:30","close_reason":"Closed"}
{"id":"sanity-fs3","title":"Fix deeply nested code in dependency builder","description":"dependency_graph_builder.go:203-227 has 5-6 levels of nesting (if/for/if/for/if/if). Extract into a fileDefinesUsedSymbol helper function.","status":"closed","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-03T22:04:08.705207+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-05T17:11:36.85023+05:30","closed_at":"2026-02-05T17:11:36.85023+05:30","close_reason":"Closed"}
{"id":"sanity-i3k","title":"Add missing tests for formatter factory and options","description":"Missing test coverage: format_options.go (FormatOptions struct), formatter.go (interface definitions), formatter_factory.go (26 lines). These core components lack unit tests.","status":"tombstone","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-03T22:04:12.499025+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-03T22:16:48.443905+05:30","deleted_at":"2026-02-03T22:16:48.443905+05:30","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"sanity-i3o","title":"Support commit range in --commit flag (e.g., abc...def)","status":"closed","priority":2,"issue_type":"feature","owner":"ragunath@legacycode.com","created_at":"2026-01-16T20:03:42.863976+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-01-16T20:20:35.678511+05:30","closed_at":"2026-01-16T20:20:35.678511+05:30","close_reason":"Implemented commit range support with normalization"}
{"id":"sanity-kdh","title":"Consolidate git command execution with timeouts","description":"vcs/git duplicates exec.Command usage without timeouts. Add a small helper that runs git commands with context timeout and consistent stderr handling; refactor git.go, git_diff.go, git_stats.go to use it.","status":"closed","priority":3,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-05T22:44:30.83142+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-07T09:08:17.982078+05:30","closed_at":"2026-02-07T09:08:17.982078+05:30","close_reason":"Closed"}
{"id":"sanity-l6g","title":"Update README documentation","status":"open","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-05T23:12:32.24773+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-05T23:12:32.24773+05:30","dependencies":[{"issue_id":"sanity-l6g","depends_on_id":"sanity-sso","type":"blocks","created_at":"2026-02-05T23:12:35.01634+05:30","created_by":"Ragunath Jawahar"}]}
{"id":"sanity-ln2","title":"Add edge reason labels to sanity why","status":"open","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-09T03:17:53.325107+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-09T03:17:53.325107+05:30"}
{"id":"sanity-loa","title":"Configure npm trusted publishing (OIDC) for @legacycodehq/sanity","description":"Set up npm trusted publishing for LegacyCodeHQ/sanity GitHub release workflow so publish-npm can run without NPM_TOKEN, then validate on next v* tag.","status":"open","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-09T00:55:02.284719+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-09T00:55:02.284719+05:30"}
{"id":"sanity-mk9","title":"Review and implement onboard subcommand properly","description":"Audit the current onboard subcommand behavior and implementation, identify gaps, and implement a robust, user-ready version with clear UX and error handling.","acceptance_criteria":"- Document current behavior and gaps for onboard.\\n- Implement missing or incorrect onboard behavior.\\n- Ensure help text and examples are accurate.\\n- Add/update tests for core success and failure paths.","status":"closed","priority":1,"issue_type":"feature","owner":"ragunath@legacycode.com","created_at":"2026-02-05T20:28:01.936442+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-07T08:33:01.888371+05:30","closed_at":"2026-02-07T08:33:01.888371+05:30","close_reason":"Closed","dependencies":[{"issue_id":"sanity-mk9","depends_on_id":"sanity-sso","type":"parent-child","created_at":"2026-02-05T23:07:03.232998+05:30","created_by":"Ragunath Jawahar"}]}
{"id":"sanity-owl","title":"Add integration tests for sanity graph -c","status":"closed","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-05T11:03:19.987065+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-05T11:05:59.600935+05:30","closed_at":"2026-02-05T11:05:59.600935+05:30","close_reason":"Closed"}
{"id":"sanity-pb5","title":"Add dedicated JavaScript language module support","description":"Capture follow-up from language-module refactor: we intentionally did NOT register .js/.jsx on TypeScript module because languageRegistry implies full analysis support (not just test-file detection). Current bridge in depgraph/test_file.go preserves historical JS/JSX test-file matching without declaring JS graph support.\\n\\nFollow-up should introduce first-class JavaScript module support rather than aliasing TypeScript extensions in registry.","acceptance_criteria":"1) Add a dedicated JavaScript LanguageModule/LanguageResolver in depgraph (separate from TypeScript).\\n2) Register .js/.jsx via the JavaScript module in languageRegistry.\\n3) Ensure parser/resolution behavior is correct for JS and JSX (JSX mode explicitly handled).\\n4) Add/adjust tests for SupportedLanguages/SupportedLanguageExtensions and dependency resolution for .js/.jsx.\\n5) Remove the temporary JS/JSX compatibility branch in depgraph/test_file.go if no longer needed.","status":"closed","priority":2,"issue_type":"feature","owner":"ragunath@legacycode.com","created_at":"2026-02-05T21:45:32.007702+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-06T08:33:19.032162+05:30","closed_at":"2026-02-06T08:33:19.032162+05:30","close_reason":"Closed","labels":["depgraph","javascript","languages"]}
{"id":"sanity-po5","title":"Improve setup instructions for CLI-based agents","description":"Current docs are not clear enough for CLI-based agent setup. Add clearer, step-by-step setup instructions (prereqs, installation, configuration, verification, and troubleshooting) so new contributors can get running quickly and consistently.","status":"closed","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-08T19:56:12.009465+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-08T20:00:19.803502+05:30","closed_at":"2026-02-08T20:00:19.803502+05:30","close_reason":"Closed"}
{"id":"sanity-pra","title":"Set up logging across the entire application","description":"Set up structured logging across the entire application using uber-go/zap (https://github.com/uber-go/zap). Use consistent fields, JSON output option, and stderr for logs in CLI.","status":"open","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-07T06:40:41.382862+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-07T06:47:20.599275+05:30"}
{"id":"sanity-pwi","title":"Improve C++ include resolution with configurable include paths","description":"Current C++ resolution now tries source-relative and ancestor include/ roots. Extend this to support configurable include search paths (for example project-specific include dirs) to reduce false negatives in repositories that do not use include/. Add regression tests covering at least one non-include-root layout.","status":"open","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-07T19:50:28.907783+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-07T19:50:44.036496+05:30"}
{"id":"sanity-qj5","title":"Improve TypeScript import resolution (extensions + path aliases)","description":"Resolve .d.ts/.mts/.cts and respect tsconfig path aliases/baseUrl where possible. Update ResolveTypeScriptImportPath and tests to cover these cases.","status":"open","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-05T22:45:00.324722+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-05T22:45:00.324722+05:30"}
{"id":"sanity-qlf","title":"Align npm release flow with beads implementation","description":"Add npm os/cpu guards, improve postinstall CI/windows behavior, switch npm publish to OIDC trusted publishing, and fix release metadata inconsistencies discovered during beads comparison.","status":"closed","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-09T00:53:36.278939+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-09T00:55:07.329833+05:30","closed_at":"2026-02-09T00:55:07.329833+05:30","close_reason":"Closed"}
{"id":"sanity-r5d","title":"Extract duplicate formatter logic to common package","description":"DOT and Mermaid formatters duplicate identical extension-counting logic (lines 46-84 in formatter_dot.go and 52-84 in formatter_mermaid.go). Extract to shared helper in common package.","status":"closed","priority":1,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-03T22:04:02.938229+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-05T17:24:54.737291+05:30","closed_at":"2026-02-05T17:24:54.737291+05:30","close_reason":"Closed"}
{"id":"sanity-sso","title":"Agentic tools integration","status":"closed","priority":1,"issue_type":"epic","owner":"ragunath@legacycode.com","created_at":"2026-02-05T23:06:56.20779+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-07T08:33:29.277417+05:30","closed_at":"2026-02-07T08:33:29.277417+05:30","close_reason":"Closed"}
{"id":"sanity-t8j","title":"Add 'languages' command to list supported languages and extensions","description":"Implement a new top-level command, sanity languages, that prints all programming languages supported by the currently installed Sanity version and the file extensions mapped to each language.\n\nThis gives users a clear, self-serve way to verify support before using commands like sanity graph.","acceptance_criteria":"- Add sanity languages command.\n- Output includes each supported language and its associated file extensions.\n- Output reflects the currently installed version (no hardcoded outdated list).\n- Include a human-readable table/list format; optionally support machine-readable output if consistent with existing CLI patterns.\n- Add help text and examples for the command.\n- Add tests validating command output contains known supported languages/extensions.","status":"closed","priority":2,"issue_type":"feature","owner":"ragunath@legacycode.com","created_at":"2026-02-05T20:31:28.240271+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-05T21:23:58.333588+05:30","closed_at":"2026-02-05T21:23:58.333588+05:30","close_reason":"Closed"}
{"id":"sanity-uww","title":"Extract hardcoded URLs and colors to config","description":"Hardcoded values that should be configurable: GraphViz URL (formatter_dot.go:179), Mermaid URLs (formatter_mermaid.go:197,201), colors (formatter_mermaid.go:170-171), color palette (formatter_utils.go:14-18), stdlib prefixes (go_parser.go:65-70).","status":"tombstone","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-03T22:04:10.698598+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-03T22:16:48.443905+05:30","deleted_at":"2026-02-03T22:16:48.443905+05:30","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"sanity-v78","title":"Fix golangci-lint context loading failure","status":"closed","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-05T16:31:25.497374+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-05T17:12:40.085032+05:30","closed_at":"2026-02-05T17:12:40.085032+05:30","close_reason":"Closed"}
{"id":"sanity-x7v","title":"Add npm CLI distribution and publish workflow","status":"closed","priority":2,"issue_type":"feature","owner":"ragunath@legacycode.com","created_at":"2026-02-09T00:25:55.76063+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-09T00:53:36.243597+05:30","closed_at":"2026-02-09T00:53:36.243609+05:30","close_reason":"Closed"}
{"id":"sanity-y0f","title":"Decide and document formatter parity for extension-based coloring","description":"DOT formatter applies extension-majority-based coloring while Mermaid currently does not. Decide whether behavior should be consistent across formatters or intentionally different, document the decision, and add/update tests accordingly.","status":"closed","priority":1,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-05T17:23:25.158319+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-05T17:35:23.471575+05:30","closed_at":"2026-02-05T17:35:23.471575+05:30","close_reason":"Closed","dependencies":[{"issue_id":"sanity-y0f","depends_on_id":"sanity-r5d","type":"discovered-from","created_at":"2026-02-05T17:23:25.160042+05:30","created_by":"Ragunath Jawahar"}]}
{"id":"sanity-ylj","title":"Review all test files in vcs module","status":"closed","priority":1,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-03T23:02:30.070415+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-05T17:16:34.373701+05:30","closed_at":"2026-02-05T17:16:34.373701+05:30","close_reason":"Closed"}
{"id":"sanity-z4p","title":"Replace DependencyGraph with dominikbraun/graph","description":"Replace our internal DependencyGraph type with github.com/dominikbraun/graph (https://github.com/dominikbraun/graph) to leverage a maintained graph library and reduce custom graph maintenance.","status":"closed","priority":1,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-05T17:19:42.995402+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-05T17:44:51.611598+05:30","closed_at":"2026-02-05T17:44:51.611598+05:30","close_reason":"Closed"}
