{"id":"sanity-2cn","title":"Refactor graph command RunE function (299 lines)","description":"graph_cmd.go RunE function (lines 44-343) handles validation, file resolution, graph building, filtering, and formatting. Split into focused functions.","status":"closed","priority":1,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-03T22:04:05.92037+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-05T15:16:39.265088+05:30","closed_at":"2026-02-05T15:16:39.265088+05:30","close_reason":"Closed"}
{"id":"sanity-3g2","title":"Refactor BuildDependencyGraph function (312 lines)","description":"dependency_graph_builder.go:22-334 has a 312-line function with multiple responsibilities: building indices, parsing files, filtering imports across 4+ languages. Split into smaller focused functions.","status":"closed","priority":1,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-03T22:04:04.674136+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-05T15:00:08.477956+05:30","closed_at":"2026-02-05T15:00:08.477956+05:30","close_reason":"Closed"}
{"id":"sanity-3wn","title":"Fix missing testhelpers.goldieWithSuffix","status":"tombstone","priority":1,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-05T11:16:08.565828+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-05T11:22:36.510028+05:30","close_reason":"Closed","deleted_at":"2026-02-05T11:22:36.510028+05:30","deleted_by":"Ragunath Jawahar","delete_reason":"delete","original_type":"task"}
{"id":"sanity-4sg","title":"Review and implement prime subcommand properly","description":"Audit the current prime subcommand behavior and implementation, identify gaps, and implement a robust, user-ready version with clear UX and error handling.","acceptance_criteria":"- Document current behavior and gaps for prime.\\n- Implement missing or incorrect prime behavior.\\n- Ensure help text and examples are accurate.\\n- Add/update tests for core success and failure paths.","status":"open","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-05T20:28:01.93649+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-05T20:28:01.93649+05:30"}
{"id":"sanity-4u3","title":"Standardize error handling patterns","description":"Issues: 1) Silent error suppression at dependency_graph_builder.go:68-72, 2) Returns nil instead of empty slice at lines 527-544, 3) Inverted error checks (err == nil) at multiple locations. Standardize to if err != nil pattern.","status":"closed","priority":3,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-03T22:04:14.049954+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-05T15:20:35.044964+05:30","closed_at":"2026-02-05T15:20:35.044964+05:30","close_reason":"Closed"}
{"id":"sanity-5dk","title":"Resolve -i/-w paths relative to repo when -r is set","description":"When users pass --repo/-r to target a repository, all graph flags that accept file or directory paths should resolve relative paths from that repository root. Today, relative paths are resolved from the caller's current working directory, which causes incorrect behavior when running from outside the target repo.\\n\\nThis should apply consistently to existing path-taking graph flags: --input/-i, --between/-w, and --file/-p, and establish a single path-resolution rule for any future path flags in this command.","acceptance_criteria":"- With --repo \u003crepo\u003e, relative paths passed to --input/-i resolve from \u003crepo\u003e root.\\n- With --repo \u003crepo\u003e, relative paths passed to --between/-w resolve from \u003crepo\u003e root.\\n- With --repo \u003crepo\u003e, relative paths passed to --file/-p resolve from \u003crepo\u003e root.\\n- Absolute paths continue to work unchanged.\\n- Without --repo, relative paths continue to resolve from current working directory (existing behavior).\\n- Add tests covering relative and absolute path behavior for --input, --between, and --file with and without --repo.","status":"open","priority":2,"issue_type":"bug","owner":"ragunath@legacycode.com","created_at":"2026-02-05T20:22:54.814516+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-05T20:24:23.043664+05:30"}
{"id":"sanity-7l1","title":"Move IsTestFile logic out of formatter_utils.go","description":"The `IsTestFile` function in `cmd/graph/formatters/common/formatter_utils.go` is misplaced. Test file detection is language-specific and sometimes framework-specific logic that doesn't belong in formatter utilities.\n\nCurrent location: `cmd/graph/formatters/common/formatter_utils.go:46`\n\nProblem:\n- Test file detection depends on programming language conventions (e.g., `_test.go` for Go, `.test.ts` for TypeScript)\n- Some languages have framework-specific conventions (e.g., `__tests__/` directory for Jest)\n- Formatters should only be concerned with output formatting, not semantic analysis\n\nPossible new locations:\n- Language-specific parsers (each parser knows its own test conventions)\n- Dependency graph builder (if test detection is needed during graph construction)\n\nAcceptance criteria:\n- `IsTestFile` removed from formatter_utils.go\n- Logic moved to appropriate location (parser or graph builder)\n- All existing functionality preserved","status":"closed","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-03T23:17:04.515507+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-05T16:42:23.691721+05:30","closed_at":"2026-02-05T16:42:23.691721+05:30","close_reason":"Closed"}
{"id":"sanity-7ne","title":"Split git.go (1015 lines) into focused modules","description":"vcs/git.go is 1015 lines handling git operations, error handling, file stats. Split into: git_tree.go (tree operations), git_diff.go (diff handling), git_stats.go (file statistics).","status":"closed","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-03T22:04:07.618627+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-03T23:00:47.639102+05:30","closed_at":"2026-02-03T23:00:47.639102+05:30","close_reason":"Split complete - git.go into 4 focused modules with corresponding test files"}
{"id":"sanity-976","title":"Highlight cyclic dependencies in rendered graph","description":"Add visual highlighting for cyclic dependencies when rendering dependency graphs. This will help users quickly identify circular references that may cause issues in their dependency structure.\n\nAcceptance criteria:\n- Cyclic dependencies should be visually distinct (e.g., different color, dashed lines)\n- The cycle path should be clearly identifiable\n- Works with both terminal and any graphical graph output","status":"closed","priority":2,"issue_type":"feature","owner":"ragunath@legacycode.com","created_at":"2026-02-03T23:15:13.338191+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-05T19:29:35.692709+05:30","closed_at":"2026-02-05T19:29:35.692709+05:30","close_reason":"Closed"}
{"id":"sanity-a2e","title":"Remove unused extension-majority logic in Mermaid formatter","description":"In cmd/graph/formatters/mermaid/formatter_mermaid.go, extensionCounts, majorityExtension, and filesWithMajorityExtension are computed but never used to style or filter nodes. Remove this dead code while preserving deterministic output.","status":"closed","priority":1,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-05T17:22:42.793166+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-05T17:29:53.015731+05:30","closed_at":"2026-02-05T17:29:53.015731+05:30","close_reason":"Closed","dependencies":[{"issue_id":"sanity-a2e","depends_on_id":"sanity-r5d","type":"discovered-from","created_at":"2026-02-05T17:22:42.795514+05:30","created_by":"Ragunath Jawahar"}]}
{"id":"sanity-a4e","title":"Review and implement init subcommand properly","description":"Audit the current init subcommand behavior and implementation, identify gaps, and implement a robust, user-ready version with clear UX and error handling.","acceptance_criteria":"- Document current behavior and gaps for init.\\n- Implement missing or incorrect init behavior.\\n- Ensure help text and examples are accurate.\\n- Add/update tests for core success and failure paths.","status":"open","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-05T20:27:56.81471+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-05T20:27:56.81471+05:30"}
{"id":"sanity-fs3","title":"Fix deeply nested code in dependency builder","description":"dependency_graph_builder.go:203-227 has 5-6 levels of nesting (if/for/if/for/if/if). Extract into a fileDefinesUsedSymbol helper function.","status":"closed","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-03T22:04:08.705207+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-05T17:11:36.85023+05:30","closed_at":"2026-02-05T17:11:36.85023+05:30","close_reason":"Closed"}
{"id":"sanity-i3k","title":"Add missing tests for formatter factory and options","description":"Missing test coverage: format_options.go (FormatOptions struct), formatter.go (interface definitions), formatter_factory.go (26 lines). These core components lack unit tests.","status":"tombstone","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-03T22:04:12.499025+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-03T22:16:48.443905+05:30","deleted_at":"2026-02-03T22:16:48.443905+05:30","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"sanity-i3o","title":"Support commit range in --commit flag (e.g., abc...def)","status":"closed","priority":2,"issue_type":"feature","owner":"ragunath@legacycode.com","created_at":"2026-01-16T20:03:42.863976+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-01-16T20:20:35.678511+05:30","closed_at":"2026-01-16T20:20:35.678511+05:30","close_reason":"Implemented commit range support with normalization"}
{"id":"sanity-mk9","title":"Review and implement onboard subcommand properly","description":"Audit the current onboard subcommand behavior and implementation, identify gaps, and implement a robust, user-ready version with clear UX and error handling.","acceptance_criteria":"- Document current behavior and gaps for onboard.\\n- Implement missing or incorrect onboard behavior.\\n- Ensure help text and examples are accurate.\\n- Add/update tests for core success and failure paths.","status":"open","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-05T20:28:01.936442+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-05T20:28:01.936442+05:30"}
{"id":"sanity-owl","title":"Add integration tests for sanity graph -c","status":"closed","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-05T11:03:19.987065+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-05T11:05:59.600935+05:30","closed_at":"2026-02-05T11:05:59.600935+05:30","close_reason":"Closed"}
{"id":"sanity-r5d","title":"Extract duplicate formatter logic to common package","description":"DOT and Mermaid formatters duplicate identical extension-counting logic (lines 46-84 in formatter_dot.go and 52-84 in formatter_mermaid.go). Extract to shared helper in common package.","status":"closed","priority":1,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-03T22:04:02.938229+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-05T17:24:54.737291+05:30","closed_at":"2026-02-05T17:24:54.737291+05:30","close_reason":"Closed"}
{"id":"sanity-uww","title":"Extract hardcoded URLs and colors to config","description":"Hardcoded values that should be configurable: GraphViz URL (formatter_dot.go:179), Mermaid URLs (formatter_mermaid.go:197,201), colors (formatter_mermaid.go:170-171), color palette (formatter_utils.go:14-18), stdlib prefixes (go_parser.go:65-70).","status":"tombstone","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-03T22:04:10.698598+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-03T22:16:48.443905+05:30","deleted_at":"2026-02-03T22:16:48.443905+05:30","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"sanity-v78","title":"Fix golangci-lint context loading failure","status":"closed","priority":2,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-05T16:31:25.497374+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-05T17:12:40.085032+05:30","closed_at":"2026-02-05T17:12:40.085032+05:30","close_reason":"Closed"}
{"id":"sanity-y0f","title":"Decide and document formatter parity for extension-based coloring","description":"DOT formatter applies extension-majority-based coloring while Mermaid currently does not. Decide whether behavior should be consistent across formatters or intentionally different, document the decision, and add/update tests accordingly.","status":"closed","priority":1,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-05T17:23:25.158319+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-05T17:35:23.471575+05:30","closed_at":"2026-02-05T17:35:23.471575+05:30","close_reason":"Closed","dependencies":[{"issue_id":"sanity-y0f","depends_on_id":"sanity-r5d","type":"discovered-from","created_at":"2026-02-05T17:23:25.160042+05:30","created_by":"Ragunath Jawahar"}]}
{"id":"sanity-ylj","title":"Review all test files in vcs module","status":"closed","priority":1,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-03T23:02:30.070415+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-05T17:16:34.373701+05:30","closed_at":"2026-02-05T17:16:34.373701+05:30","close_reason":"Closed"}
{"id":"sanity-z4p","title":"Replace DependencyGraph with dominikbraun/graph","description":"Replace our internal DependencyGraph type with github.com/dominikbraun/graph (https://github.com/dominikbraun/graph) to leverage a maintained graph library and reduce custom graph maintenance.","status":"closed","priority":1,"issue_type":"task","owner":"ragunath@legacycode.com","created_at":"2026-02-05T17:19:42.995402+05:30","created_by":"Ragunath Jawahar","updated_at":"2026-02-05T17:44:51.611598+05:30","closed_at":"2026-02-05T17:44:51.611598+05:30","close_reason":"Closed"}
